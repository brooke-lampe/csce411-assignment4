Step D Queries

Relational Database:

depth 2

depth 3

depth 4

depth 5




Neo4j:

without indices

DROP INDEX ON :Person(id)
DROP INDEX ON :Person(id, name, state)

with indices

CREATE INDEX ON :Person(id)
CREATE INDEX ON :Person(id, name, state)


depth 2

MATCH (person:Person { name: "Cecilia Thenhaus" })-[:FRIEND_WITH*2..2]->(friend_of_friend:Person)
WHERE NOT ((person)-[:FRIEND_WITH*1..1]->(friend_of_friend))
RETURN DISTINCT friend_of_friend.id

time_without_indices: 4ms
time_with_indices: 3ms


depth 3

MATCH (person:Person { name: "Cecilia Thenhaus" })-[:FRIEND_WITH*3..3]->(friend_of_friend:Person)
WHERE NOT ((person)-[:FRIEND_WITH*1..2]->(friend_of_friend))
RETURN DISTINCT friend_of_friend.id

time_without_indices: 43ms
time_with_indices: 41ms


depth 4

MATCH (person:Person { name: "Cecilia Thenhaus" })-[:FRIEND_WITH*4..4]->(friend_of_friend:Person)
WHERE NOT ((person)-[:FRIEND_WITH*1..3]->(friend_of_friend))
RETURN DISTINCT friend_of_friend.id

time_without_indices: 481ms
time_with_indices: 499ms


depth 5

MATCH (person:Person { name: "Cecilia Thenhaus" })-[:FRIEND_WITH*5..5]->(friend_of_friend:Person)
WHERE NOT ((person)-[:FRIEND_WITH*1..4]->(friend_of_friend))
RETURN DISTINCT friend_of_friend.id

time_without_indices: 3028ms
time_with_indices: 3094ms